{"last_node_id":32,"last_link_id":33,"nodes":[{"id":32,"type":"Anything Everywhere","pos":[2061.7118706554706,188.9447151863007],"size":{"0":210,"1":26},"flags":{},"order":16,"mode":0,"inputs":[{"name":"STRING","type":"*","link":33,"slot_index":0,"color_on":""}],"properties":{"group_restricted":0,"color_restricted":1,"Node name for S&R":"Anything Everywhere"},"widgets_values":[],"color":"#323","bgcolor":"#535"},{"id":27,"type":"Text Find and Replace","pos":[1301.711870655469,498.94471518630024],"size":{"0":317.4000244140625,"1":166},"flags":{"collapsed":false},"order":9,"mode":0,"inputs":[{"name":"text","type":"STRING","link":25,"widget":{"name":"text"},"slot_index":0},{"name":"replace","type":"STRING","link":null,"widget":{"name":"replace"}}],"outputs":[{"name":"result_text","type":"STRING","links":[27],"shape":3,"slot_index":0},{"name":"replacement_count_number","type":"NUMBER","links":null,"shape":3},{"name":"replacement_count_float","type":"FLOAT","links":null,"shape":3},{"name":"replacement_count_int","type":"INT","links":null,"shape":3}],"properties":{"Node name for S&R":"Text Find and Replace"},"widgets_values":["","文本替换",""]},{"id":20,"type":"PreviewImage","pos":[69.74240787109385,244.53257065521242],"size":[476.6757507324219,486.39739990234375],"flags":{},"order":0,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":null}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#223","bgcolor":"#335","locked":true},{"id":30,"type":"Anything Everywhere","pos":[667.7424078710934,177.53257065521242],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":10,"mode":0,"inputs":[{"name":"STRING","type":"*","link":31,"color_on":""}],"properties":{"group_restricted":0,"color_restricted":0,"Node name for S&R":"Anything Everywhere"},"widgets_values":[]},{"id":11,"type":"ShowText|pysssss","pos":[569.7424078710934,574.5325706552117],"size":[275.1769714355469,155.78814697265625],"flags":{},"order":1,"mode":0,"inputs":[{"name":"text","type":"STRING","link":null,"widget":{"name":"text"}}],"outputs":[{"name":"STRING","type":"STRING","links":null,"shape":6}],"title":"Prompt Build Form Gemini","properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":["","Dynamic composition, ethereal atmosphere, fluid graphic design and model of the human heart CT images in black, gold and purple with strong transparency in highest quality 8k HD"],"color":"#323","bgcolor":"#535","locked":true},{"id":12,"type":"TextInput_","pos":[931.711870655469,188.9447151863007],"size":[339.19268798828125,232.78175354003906],"flags":{},"order":2,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[11],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"TextInput_"},"widgets_values":["text = '文本替换' # @param {type:\"string\"}\n\nprompt = \"You are creating a stable diffusion prompt to generate an image based on your requirements. Please generate a text prompt for %s. Only reply to the prompt itself. Use your imagination to enrich the content of the prompt and write the prompt in the form of a phrase. If the picture quality is not mentioned in the request, please randomly add other phrases you can think of including highest quality, 8K HD, etc. at the end to improve the final picture quality. If there is no special composition method specified in the requirements, please randomly use dynamic composition or tilted composition as the composition form of the picture, otherwise please be loyal to the requirements, but stay under the 80 tokens.\" % Text"],"locked":true},{"id":13,"type":"Text Find and Replace","pos":[1312.711870655469,188.9447151863007],"size":[317.4000244140625,166],"flags":{"collapsed":false},"order":12,"mode":0,"inputs":[{"name":"text","type":"STRING","link":11,"widget":{"name":"text"},"slot_index":0},{"name":"replace","type":"STRING","link":29,"widget":{"name":"replace"}}],"outputs":[{"name":"result_text","type":"STRING","links":[13],"shape":3,"slot_index":0},{"name":"replacement_count_number","type":"NUMBER","links":null,"shape":3},{"name":"replacement_count_float","type":"FLOAT","links":null,"shape":3},{"name":"replacement_count_int","type":"INT","links":null,"shape":3}],"properties":{"Node name for S&R":"Text Find and Replace"},"widgets_values":["","文本替换",""],"locked":true},{"id":10,"type":"Gemini_API_S_Zho","pos":[1660.7118706554686,189.9447151863007],"size":[338.4164123535156,102],"flags":{},"order":14,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":null},{"name":"prompt","type":"STRING","link":13,"widget":{"name":"prompt"},"slot_index":1}],"outputs":[{"name":"text","type":"STRING","links":[18,33],"shape":3,"slot_index":0}],"title":"㊙️Gemini_Zho （For Build Prompt）","properties":{"Node name for S&R":"Gemini_API_S_Zho"},"widgets_values":["What is the meaning of life?","gemini-pro",false],"locked":true},{"id":29,"type":"Anything Everywhere","pos":[2603.7118706554706,177.9447151863007],"size":{"0":210,"1":26},"flags":{},"order":18,"mode":0,"inputs":[{"name":"IMAGE","type":"*","link":30,"color_on":"#80a1c0"}],"properties":{"group_restricted":0,"color_restricted":1,"Node name for S&R":"Anything Everywhere"},"widgets_values":[],"color":"#223","bgcolor":"#335"},{"id":31,"type":"Anything Everywhere","pos":[1761.7118706554688,648.9447151863],"size":{"0":210,"1":26},"flags":{},"order":13,"mode":0,"inputs":[{"name":"STRING","type":"*","link":32,"slot_index":0,"color_on":""}],"properties":{"group_restricted":0,"color_restricted":1,"Node name for S&R":"Anything Everywhere"},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":26,"type":"TextInput_","pos":[941.711870655469,498.94471518630024],"size":{"0":339.19268798828125,"1":232.78175354003906},"flags":{},"order":3,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[25],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"TextInput_"},"widgets_values":["text = '文本替换' # @param {type:\"string\"}\n\nprompt = \"I want you to act as an English translator, spelling corrector and improver.Please generate a text prompt for %s. Only reply to the prompt itself.  I will speak to you in any language and you will detect the language, My words will be scattered and you will need to reorganize them and translate them in the corrected and improved version , in English. I want you to replace my simplified A0-level words and sentences with more beautiful and elegant, upper level English words and sentences. Keep the meaning same, but make them more literary. I want you to only reply the correction, the improvements and nothing else, do not write explanations. \" % Text"]},{"id":28,"type":"Gemini_API_S_Zho","pos":[1641.7118706554686,488.9447151863004],"size":{"0":338.4164123535156,"1":102},"flags":{},"order":11,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":null},{"name":"prompt","type":"STRING","link":27,"widget":{"name":"prompt"},"slot_index":1}],"outputs":[{"name":"text","type":"STRING","links":[29,32],"shape":3,"slot_index":0}],"title":"㊙️Gemini_Zho （For Translate）","properties":{"Node name for S&R":"Gemini_API_S_Zho"},"widgets_values":["What is the meaning of life?","gemini-pro",false]},{"id":19,"type":"KSampler SDXL (Eff.)","pos":[2491,260],"size":[325,546],"flags":{},"order":17,"mode":0,"inputs":[{"name":"sdxl_tuple","type":"SDXL_TUPLE","link":19},{"name":"latent_image","type":"LATENT","link":21},{"name":"optional_vae","type":"VAE","link":22},{"name":"script","type":"SCRIPT","link":24,"slot_index":3}],"outputs":[{"name":"SDXL_TUPLE","type":"SDXL_TUPLE","links":null,"shape":3},{"name":"LATENT","type":"LATENT","links":[],"shape":3,"slot_index":1},{"name":"VAE","type":"VAE","links":null,"shape":3},{"name":"IMAGE","type":"IMAGE","links":[30],"shape":3,"slot_index":3}],"properties":{"Node name for S&R":"KSampler SDXL (Eff.)"},"widgets_values":[548221560,null,6,2,"dpmpp_sde","karras",0,-1,"auto","true"],"color":"#332222","bgcolor":"#553333","shape":1,"locked":true},{"id":25,"type":"HighRes-Fix Script","pos":[2125,766],"size":[325,250],"flags":{},"order":4,"mode":0,"inputs":[{"name":"script","type":"SCRIPT","link":null}],"outputs":[{"name":"SCRIPT","type":"SCRIPT","links":[24],"shape":3}],"properties":{"Node name for S&R":"HighRes-Fix Script"},"widgets_values":["latent","(use same)","nearest-exact","4x-UltraSharp.pth",1.5,true,496330646117653,null,6,0.56,1,false,"AnimatedDiff\\controlnet_checkpoint.ckpt",1,"none",false],"color":"#443322","bgcolor":"#665533","shape":1},{"id":21,"type":"GlobalSeed //Inspire","pos":[2494,876],"size":[315,130],"flags":{},"order":5,"mode":0,"properties":{"Node name for S&R":"GlobalSeed //Inspire"},"widgets_values":[548221560,true,"randomize",2215023112],"locked":true},{"id":18,"type":"Eff. Loader SDXL","pos":[2046,266],"size":[400,402],"flags":{},"order":15,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":null},{"name":"cnet_stack","type":"CONTROL_NET_STACK","link":null},{"name":"positive","type":"STRING","link":18,"widget":{"name":"positive"}}],"outputs":[{"name":"SDXL_TUPLE","type":"SDXL_TUPLE","links":[19],"shape":3,"slot_index":0},{"name":"LATENT","type":"LATENT","links":[21],"shape":3,"slot_index":1},{"name":"VAE","type":"VAE","links":[22],"shape":3,"slot_index":2},{"name":"DEPENDENCIES","type":"DEPENDENCIES","links":null,"shape":3}],"properties":{"Node name for S&R":"Eff. Loader SDXL"},"widgets_values":["XL Lighting\\juggernautXL_v9Rdphoto2Lightning.safetensors",-1,"None",-2,6,2,"Baked VAE","CLIP_POSITIVE","","none","comfy",768,1024,1],"color":"#332233","bgcolor":"#553355","shape":1,"locked":true},{"id":16,"type":"ShowText|pysssss","pos":[569.7424078710934,404.5325706552118],"size":[275.390380859375,118.24954986572266],"flags":{},"order":6,"mode":0,"inputs":[{"name":"text","type":"STRING","link":null,"widget":{"name":"text"}}],"outputs":[{"name":"STRING","type":"STRING","links":null,"shape":6}],"title":"English Translate From Gemini","properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":["","Abstract fluid graphic design and the model of the human heart CT images, which should not be too complicated, but shows an ethereal atmosphere, with a metaphor about space, whose color system is matched by black, gold, and purple, which is extremely transparent, with a strong sense of transparency"],"color":"#232","bgcolor":"#353","locked":true},{"id":14,"type":"TextInput_","pos":[569.7424078710934,246.5325706552124],"size":[274.3621826171875,99.02059173583984],"flags":{},"order":7,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[31],"shape":3,"slot_index":0}],"title":"Your Idea In Any Language","properties":{"Node name for S&R":"TextInput_"},"widgets_values":["抽象流体图形，图形设计，人类心脏CT影像的造型，不要繁复，空灵的氛围，太空的隐喻，黑金与紫色搭配的色系，极其通透，强烈的透明质感"],"locked":true},{"id":22,"type":"Note Plus (mtb)","pos":{"0":942,"1":748,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":1164.7861328125,"1":267.45611572265625},"flags":{},"order":8,"mode":0,"inputs":[],"outputs":[],"title":"Unnamed","properties":{},"widgets_values":["# Play With Gemini\n<br>\n***\n***\n<br>\n## 整个流程分两次调用Google Gemini API，第一次是将用户输入的任何语种语言翻译成英语，并重新打磨词句，使其成为更加纯正的英语文本。第二次调用是根据翻译后的英文文本，让Gemini发挥想象，帮用户书写一份SD提示词。\n<br>\n## The entire process entails two separate calls to the Google Gemini API. The first call translates the user's input, regardless of the source language, into English and refines the phrasing to produce a more polished English text. The second call utilizes the translated English text to prompt Gemini to generate an SD prompt on the user's behalf.","markdown","","one_dark"],"color":"#307e91","bgcolor":"#1c6a7d","shape":1}],"links":[[11,12,0,13,0,"STRING"],[13,13,0,10,1,"STRING"],[18,10,0,18,2,"STRING"],[19,18,0,19,0,"SDXL_TUPLE"],[21,18,1,19,1,"LATENT"],[22,18,2,19,2,"VAE"],[24,25,0,19,3,"SCRIPT"],[25,26,0,27,0,"STRING"],[27,27,0,28,1,"STRING"],[29,28,0,13,1,"STRING"],[30,19,3,29,0,"IMAGE"],[31,14,0,30,0,"STRING"],[32,28,0,31,0,"STRING"],[33,10,0,32,0,"STRING"]],"groups":[{"title":"Gemini For Prompt Build","bounding":[922,71,1904,955],"color":"#5b22c3","font_size":48,"locked":true},{"title":"Play With Gemini","bounding":[59,70,796,674],"color":"#cc8828","font_size":48,"locked":true}],"config":{},"extra":{"workspace_info":{"id":"4N9SSd38jp154be7l8VhJ"}},"version":0.4}