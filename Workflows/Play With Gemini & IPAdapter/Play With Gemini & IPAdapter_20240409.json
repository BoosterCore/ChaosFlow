{"last_node_id":69,"last_link_id":86,"nodes":[{"id":27,"type":"Text Find and Replace","pos":[1661.0124464482458,469.19990204267896],"size":{"0":317.4000244140625,"1":166},"flags":{"collapsed":false},"order":16,"mode":0,"inputs":[{"name":"text","type":"STRING","link":25,"widget":{"name":"text"},"slot_index":0},{"name":"replace","type":"STRING","link":null,"widget":{"name":"replace"}}],"outputs":[{"name":"result_text","type":"STRING","links":[27],"shape":3,"slot_index":0},{"name":"replacement_count_number","type":"NUMBER","links":null,"shape":3},{"name":"replacement_count_float","type":"FLOAT","links":null,"shape":3},{"name":"replacement_count_int","type":"INT","links":null,"shape":3}],"properties":{"Node name for S&R":"Text Find and Replace"},"widgets_values":["","文本替换",""]},{"id":26,"type":"TextInput_","pos":[1301.0124464482435,479.1999020426789],"size":{"0":339.19268798828125,"1":232.78175354003906},"flags":{},"order":0,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[25],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"TextInput_"},"widgets_values":["text = '文本替换' # @param {type:\"string\"}\n\nprompt = \"I want you to act as an English translator, spelling corrector and improver.Please generate a text prompt for %s. Only reply to the prompt itself.  I will speak to you in any language and you will detect the language, My words will be scattered and you will need to reorganize them and translate them in the corrected and improved version , in English. I want you to replace my simplified A0-level words and sentences with more beautiful and elegant, upper level English words and sentences. Keep the meaning same, but make them more literary. I want you to only reply the correction, the improvements and nothing else, do not write explanations. \" % Text"]},{"id":43,"type":"Text Find and Replace","pos":[2431.0124464482474,559.1999020426791],"size":{"0":317.4000244140625,"1":166},"flags":{"collapsed":false},"order":27,"mode":0,"inputs":[{"name":"text","type":"STRING","link":58,"widget":{"name":"text"},"slot_index":0},{"name":"replace","type":"STRING","link":57,"widget":{"name":"replace"}}],"outputs":[{"name":"result_text","type":"STRING","links":[56],"shape":3,"slot_index":0},{"name":"replacement_count_number","type":"NUMBER","links":null,"shape":3},{"name":"replacement_count_float","type":"FLOAT","links":null,"shape":3},{"name":"replacement_count_int","type":"INT","links":null,"shape":3}],"properties":{"Node name for S&R":"Text Find and Replace"},"widgets_values":["","文本替换",""]},{"id":44,"type":"Gemini_API_S_Zho","pos":[2781.0124464482474,549.1999020426791],"size":{"0":338.4164123535156,"1":102},"flags":{},"order":30,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":null},{"name":"prompt","type":"STRING","link":56,"widget":{"name":"prompt"},"slot_index":1}],"outputs":[{"name":"text","type":"STRING","links":[60],"shape":3,"slot_index":0}],"title":"㊙️Gemini_Zho （For Simplify）","properties":{"Node name for S&R":"Gemini_API_S_Zho"},"widgets_values":["What is the meaning of life?","gemini-pro",false]},{"id":42,"type":"Anything Everywhere","pos":[919.4035258789063,482.84532072448735],"size":[210,26],"flags":{"collapsed":true},"order":21,"mode":0,"inputs":[{"name":"FLOAT","type":"*","link":55,"color_on":""}],"properties":{"group_restricted":0,"color_restricted":0,"Node name for S&R":"Anything Everywhere"},"widgets_values":[],"locked":true},{"id":16,"type":"ShowText|pysssss","pos":[542.4035258789063,473.84532072448735],"size":[273.4129943847656,148.28236389160156],"flags":{},"order":1,"mode":0,"inputs":[{"name":"text","type":"STRING","link":null,"widget":{"name":"text"}}],"outputs":[{"name":"STRING","type":"STRING","links":null,"shape":6}],"title":"English Translate From Gemini","properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":["","Grand Canyon, setting sun, historic city ruins, giant statue of the god of war carved into the cliff"],"color":"#232","bgcolor":"#353","locked":true},{"id":30,"type":"Anything Everywhere","pos":[643.4035258789063,199.84532072448732],"size":[210,26],"flags":{"collapsed":true},"order":18,"mode":0,"inputs":[{"name":"STRING","type":"*","link":31,"color_on":""}],"properties":{"group_restricted":0,"color_restricted":0,"Node name for S&R":"Anything Everywhere"},"widgets_values":[],"locked":true},{"id":49,"type":"Anything Everywhere","pos":[924.4035258789063,138.84532072448732],"size":[210,26],"flags":{"collapsed":true},"order":19,"mode":0,"inputs":[{"name":"STRING","type":"*","link":63,"color_on":""}],"properties":{"group_restricted":0,"color_restricted":1,"Node name for S&R":"Anything Everywhere"},"widgets_values":[],"color":"#35a580","bgcolor":"#21916c","locked":true},{"id":50,"type":"Anything Everywhere","pos":[924.4035258789063,177.84532072448732],"size":[210,26],"flags":{"collapsed":true},"order":20,"mode":0,"inputs":[{"name":"STRING","type":"*","link":64,"color_on":""}],"properties":{"group_restricted":0,"color_restricted":1,"Node name for S&R":"Anything Everywhere"},"widgets_values":[],"color":"#ab4444","bgcolor":"#973030","locked":true},{"id":20,"type":"PreviewImage","pos":[43.403525878906265,183.84532072448732],"size":[484.22039794921875,686.1376953125],"flags":{},"order":2,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":null}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#223","bgcolor":"#335","locked":true},{"id":48,"type":"Anything Everywhere","pos":[2941.0124464482465,479.1999020426789],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":33,"mode":0,"inputs":[{"name":"STRING","type":"*","link":60,"color_on":""}],"properties":{"group_restricted":0,"color_restricted":1,"Node name for S&R":"Anything Everywhere"},"widgets_values":[],"color":"#322","bgcolor":"#533"},{"id":46,"type":"TextInput_","pos":[2021.0124464482467,669.1999020426787],"size":{"0":339.19268798828125,"1":232.78175354003906},"flags":{},"order":3,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[58],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"TextInput_"},"widgets_values":["text = '文本替换' # @param {type:\"string\"}\n\nprompt = \"You are creating a stable diffusion prompt to generate an image based on your requirements. Please generate a text prompt for %s. Only reply to the prompt itself. Please simplify and refine the requirements, retain only the core content, and write prompt words in the form of phrases, The final prompt word cannot be more than 50 tokens.\" % Text"]},{"id":28,"type":"Gemini_API_S_Zho","pos":[2011.0124464482462,479.1999020426789],"size":{"0":338.4164123535156,"1":102},"flags":{},"order":23,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":null},{"name":"prompt","type":"STRING","link":27,"widget":{"name":"prompt"},"slot_index":1}],"outputs":[{"name":"text","type":"STRING","links":[29,32,57],"shape":3,"slot_index":0}],"title":"㊙️Gemini_Zho （For Translate）","properties":{"Node name for S&R":"Gemini_API_S_Zho"},"widgets_values":["What is the meaning of life?","gemini-pro",false]},{"id":31,"type":"Anything Everywhere","pos":[2161.0124464482474,419.19990204267884],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":26,"mode":0,"inputs":[{"name":"STRING","type":"*","link":32,"slot_index":0,"color_on":""}],"properties":{"group_restricted":0,"color_restricted":1,"Node name for S&R":"Anything Everywhere"},"widgets_values":[],"color":"#232","bgcolor":"#353"},{"id":13,"type":"Text Find and Replace","pos":[2431.0124464482474,309.1999020426786],"size":[317.4000244140625,166],"flags":{"collapsed":false},"order":25,"mode":0,"inputs":[{"name":"text","type":"STRING","link":11,"widget":{"name":"text"},"slot_index":0},{"name":"replace","type":"STRING","link":29,"widget":{"name":"replace"}}],"outputs":[{"name":"result_text","type":"STRING","links":[13],"shape":3,"slot_index":0},{"name":"replacement_count_number","type":"NUMBER","links":null,"shape":3},{"name":"replacement_count_float","type":"FLOAT","links":null,"shape":3},{"name":"replacement_count_int","type":"INT","links":null,"shape":3}],"properties":{"Node name for S&R":"Text Find and Replace"},"widgets_values":["","文本替换",""],"locked":true},{"id":32,"type":"Anything Everywhere","pos":[2941.0124464482465,229.19990204267884],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":31,"mode":0,"inputs":[{"name":"STRING","type":"*","link":33,"slot_index":0,"color_on":""}],"properties":{"group_restricted":0,"color_restricted":1,"Node name for S&R":"Anything Everywhere"},"widgets_values":[],"color":"#323","bgcolor":"#535"},{"id":12,"type":"TextInput_","pos":[2001.012446448246,139.19990204267876],"size":[339.19268798828125,232.78175354003906],"flags":{},"order":4,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[11],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"TextInput_"},"widgets_values":["text = '文本替换' # @param {type:\"string\"}\n\nprompt = \"You are creating a stable diffusion prompt to generate an image based on your requirements. Please generate a text prompt for %s. Only reply to the prompt itself. If the input content surpasses 100 tokens, adhere to the content and maintain the input tokens by reorganizing it; otherwise, unleash your creativity to expand upon it within the confines of the provided context.If the picture quality is not mentioned in the request, please randomly add other phrases you can think of including highest quality, 8K HD, etc. at the end to improve the final picture quality. If there is no special composition method specified in the requirements, please randomly use dynamic composition or tilted composition as the composition form of the picture, otherwise please be loyal to the requirements, but stay under the 80 tokens.\" % Text\n"],"locked":true},{"id":38,"type":"CLIPTextEncode","pos":[1981.0124464482458,989.1999020426784],"size":{"0":210,"1":54},"flags":{"collapsed":true},"order":39,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":61},{"name":"text","type":"STRING","link":null,"widget":{"name":"text"}}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[49],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[""],"color":"#35a580","bgcolor":"#21916c"},{"id":39,"type":"CLIPTextEncode","pos":[1981.0124464482458,1079.199902042678],"size":{"0":210,"1":54},"flags":{"collapsed":true},"order":40,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":62},{"name":"text","type":"STRING","link":null,"widget":{"name":"text"}}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[52],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[""],"color":"#ab4444","bgcolor":"#973030"},{"id":10,"type":"Gemini_API_S_Zho","pos":[2791.0124464482465,299.1999020426786],"size":[338.4164123535156,102],"flags":{},"order":29,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":null},{"name":"prompt","type":"STRING","link":13,"widget":{"name":"prompt"},"slot_index":1}],"outputs":[{"name":"text","type":"STRING","links":[33,65],"shape":3,"slot_index":0}],"title":"㊙️Gemini_Zho （For Build Prompt）","properties":{"Node name for S&R":"Gemini_API_S_Zho"},"widgets_values":["What is the meaning of life?","gemini-pro",false],"locked":true},{"id":51,"type":"Reroute","pos":[3212.0124464482465,299.1999020426786],"size":[90.4,26],"flags":{"pinned":true},"order":32,"mode":0,"inputs":[{"name":"","type":"*","link":65,"widget":{"name":"value"}}],"outputs":[{"name":"STRING","type":"STRING","links":[66],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":36,"type":"ConditioningAverage","pos":[2290,989],"size":{"0":312.3999938964844,"1":78},"flags":{"collapsed":true},"order":41,"mode":0,"inputs":[{"name":"conditioning_to","type":"CONDITIONING","link":49},{"name":"conditioning_from","type":"CONDITIONING","link":46},{"name":"conditioning_to_strength","type":"FLOAT","link":null,"widget":{"name":"conditioning_to_strength"}}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[51],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ConditioningAverage"},"widgets_values":[1]},{"id":40,"type":"ConditioningAverage","pos":[2292,1079],"size":{"0":312.3999938964844,"1":78},"flags":{"collapsed":true},"order":42,"mode":0,"inputs":[{"name":"conditioning_to","type":"CONDITIONING","link":52},{"name":"conditioning_from","type":"CONDITIONING","link":53},{"name":"conditioning_to_strength","type":"FLOAT","link":null,"widget":{"name":"conditioning_to_strength"}}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[54],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ConditioningAverage"},"widgets_values":[1]},{"id":47,"type":"ShowText|pysssss","pos":[846.4035258789063,734.8453207244875],"size":[254.29173278808594,134.34292602539062],"flags":{},"order":5,"mode":0,"inputs":[{"name":"text","type":"STRING","link":null,"widget":{"name":"text"}}],"outputs":[{"name":"STRING","type":"STRING","links":null,"shape":6}],"title":"Simplified Prompt From Gemini","properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":["","Historic ruins of an ancient city bathed in golden sunset glow. Towering above the ruins is a colossal statue of the god of war carved into the sheer cliff face."],"color":"#322","bgcolor":"#533","locked":true},{"id":11,"type":"ShowText|pysssss","pos":[543.4035258789063,680.8453207244875],"size":[274.8675231933594,190.76718139648438],"flags":{},"order":6,"mode":0,"inputs":[{"name":"text","type":"STRING","link":null,"widget":{"name":"text"}}],"outputs":[{"name":"STRING","type":"STRING","links":null,"shape":6}],"title":"Prompt Build From Gemini","properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":["","majestic giant statue of the god of war carved into the sheer cliff face, overlooking a vast landscape of historic city ruins bathed in the warm, golden light of the setting sun. highest quality, 8K HD"],"color":"#323","bgcolor":"#535","locked":true},{"id":33,"type":"Unpack SDXL Tuple","pos":[1751,1169],"size":{"0":270.3999938964844,"1":166},"flags":{"collapsed":true},"order":37,"mode":0,"inputs":[{"name":"sdxl_tuple","type":"SDXL_TUPLE","link":34}],"outputs":[{"name":"BASE_MODEL","type":"MODEL","links":[73],"shape":3,"slot_index":0},{"name":"BASE_CLIP","type":"CLIP","links":[36,61,62],"shape":3,"slot_index":1},{"name":"BASE_CONDITIONING+","type":"CONDITIONING","links":[46],"shape":3,"slot_index":2},{"name":"BASE_CONDITIONING-","type":"CONDITIONING","links":[53],"shape":3,"slot_index":3},{"name":"REFINER_MODEL","type":"MODEL","links":[41],"shape":3,"slot_index":4},{"name":"REFINER_CLIP","type":"CLIP","links":[42],"shape":3,"slot_index":5},{"name":"REFINER_CONDITIONING+","type":"CONDITIONING","links":[43],"shape":3,"slot_index":6},{"name":"REFINER_CONDITIONING-","type":"CONDITIONING","links":[44],"shape":3,"slot_index":7}],"properties":{"Node name for S&R":"Unpack SDXL Tuple"},"shape":1},{"id":34,"type":"Pack SDXL Tuple","pos":[2601,1169],"size":{"0":228.39999389648438,"1":166},"flags":{"collapsed":true,"pinned":false},"order":43,"mode":0,"inputs":[{"name":"base_model","type":"MODEL","link":null},{"name":"base_clip","type":"CLIP","link":36},{"name":"base_positive","type":"CONDITIONING","link":51},{"name":"base_negative","type":"CONDITIONING","link":54},{"name":"refiner_model","type":"MODEL","link":41},{"name":"refiner_clip","type":"CLIP","link":42},{"name":"refiner_positive","type":"CONDITIONING","link":43},{"name":"refiner_negative","type":"CONDITIONING","link":44}],"outputs":[{"name":"SDXL_TUPLE","type":"SDXL_TUPLE","links":[50],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Pack SDXL Tuple"},"color":"#232","bgcolor":"#353","shape":1},{"id":59,"type":"Anything Everywhere","pos":[1750,1120],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":38,"mode":0,"inputs":[{"name":"MODEL","type":"*","link":73,"color_on":"#8978a7"}],"properties":{"group_restricted":0,"color_restricted":0,"Node name for S&R":"Anything Everywhere"},"widgets_values":[]},{"id":52,"type":"Reroute","pos":[3259,887],"size":[90.4,26],"flags":{"pinned":true},"order":34,"mode":0,"inputs":[{"name":"","type":"*","link":66,"pos":[45.2,0],"widget":{"name":"value"}}],"outputs":[{"name":"STRING","type":"STRING","links":[67],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":53,"type":"Reroute","pos":[1182,938],"size":[90.4,26],"flags":{"pinned":true},"order":35,"mode":0,"inputs":[{"name":"","type":"*","link":67,"pos":[45.2,0],"widget":{"name":"value"}}],"outputs":[{"name":"STRING","type":"STRING","links":[68],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":60,"type":"Anything Everywhere","pos":[929.2467437742495,1101.9295266076592],"size":[210,26],"flags":{"collapsed":true},"order":28,"mode":0,"inputs":[{"name":"MODEL","type":"*","link":80,"color_on":"#8978a7"}],"properties":{"group_restricted":0,"color_restricted":1,"Node name for S&R":"Anything Everywhere"},"widgets_values":[],"color":"#232","bgcolor":"#353","locked":true},{"id":61,"type":"PrepImageForClipVision","pos":[411.24674377424907,1303.929526607659],"size":[314.6586608886719,106],"flags":{},"order":22,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":76,"slot_index":0}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[77],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"PrepImageForClipVision"},"widgets_values":["LANCZOS","center",0.8],"locked":true},{"id":65,"type":"PrepImageForClipVision","pos":[413.24674377424907,1468.929526607659],"size":[314.6586608886719,106],"flags":{},"order":17,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":81,"slot_index":0}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[82],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"PrepImageForClipVision"},"widgets_values":["LANCZOS","center",0.8],"locked":true},{"id":57,"type":"IPAdapterUnifiedLoader","pos":[411.24674377424907,1171.9295266076592],"size":[315,78],"flags":{},"order":7,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":null},{"name":"ipadapter","type":"IPADAPTER","link":null,"slot_index":1}],"outputs":[{"name":"model","type":"MODEL","links":[78],"shape":3,"slot_index":0},{"name":"ipadapter","type":"IPADAPTER","links":[79],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"IPAdapterUnifiedLoader"},"widgets_values":["PLUS (high strength)"],"locked":true},{"id":21,"type":"GlobalSeed //Inspire","pos":[1316.0124464482437,195.1999020426788],"size":[315,130],"flags":{},"order":8,"mode":0,"properties":{"Node name for S&R":"GlobalSeed //Inspire"},"widgets_values":[3407039835,true,"randomize",3355748436],"locked":true},{"id":19,"type":"KSampler SDXL (Eff.)","pos":[3000,1218],"size":{"0":325,"1":546},"flags":{},"order":44,"mode":0,"inputs":[{"name":"sdxl_tuple","type":"SDXL_TUPLE","link":50},{"name":"latent_image","type":"LATENT","link":21},{"name":"optional_vae","type":"VAE","link":22},{"name":"script","type":"SCRIPT","link":24,"slot_index":3}],"outputs":[{"name":"SDXL_TUPLE","type":"SDXL_TUPLE","links":null,"shape":3},{"name":"LATENT","type":"LATENT","links":[],"shape":3,"slot_index":1},{"name":"VAE","type":"VAE","links":null,"shape":3},{"name":"IMAGE","type":"IMAGE","links":[30],"shape":3,"slot_index":3}],"properties":{"Node name for S&R":"KSampler SDXL (Eff.)"},"widgets_values":[3407039835,null,6,2,"dpmpp_sde","karras",0,-1,"auto","true"],"color":"#332222","bgcolor":"#553333","shape":1},{"id":29,"type":"Anything Everywhere","pos":[3141,1148],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":45,"mode":0,"inputs":[{"name":"IMAGE","type":"*","link":30,"color_on":"#80a1c0"}],"properties":{"group_restricted":0,"color_restricted":1,"Node name for S&R":"Anything Everywhere"},"widgets_values":[],"color":"#223","bgcolor":"#335"},{"id":25,"type":"HighRes-Fix Script","pos":[2659,1514],"size":[325,250],"flags":{},"order":9,"mode":0,"inputs":[{"name":"script","type":"SCRIPT","link":null}],"outputs":[{"name":"SCRIPT","type":"SCRIPT","links":[24],"shape":3}],"properties":{"Node name for S&R":"HighRes-Fix Script"},"widgets_values":["latent","(use same)","nearest-exact","4x-UltraSharp.pth",1.5,true,496330646117653,null,6,0.56,1,false,"AnimatedDiff\\controlnet_checkpoint.ckpt",1,"none",false],"color":"#443322","bgcolor":"#665533","shape":1},{"id":22,"type":"Note Plus (mtb)","pos":{"0":1680,"1":1295,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[948.3906281057361,467.4733317822429],"flags":{"pinned":false},"order":10,"mode":0,"inputs":[],"outputs":[],"title":"Unnamed","properties":{},"widgets_values":["# Play With Gemini &amp; IPAdapter\n***\n***\n## 整个流程分三次调用Google Gemini API，第一次是将用户输入的任何语种语言翻译成英语，并重新打磨词句，使其成为更加纯正的英语文本。第二次调用是根据翻译后的英文文本，让Gemini发挥想象，帮用户书写一份SD提示词。第三次调用则是将提示词简化，用以后续的风格化处理。第二次生成的提示词将与第三次风格化后的提示词进行权重平均。\n## 额外加入了最新的IPAdapter模块，可以实现风格与构图的分离控制，并且IPAdapter的风格可以跟提示词风格模板产生混合效应。\n<br>\n## The entire process entails three distinct calls to the Google Gemini API. The first call translates the user's input, regardless of the source language, into English and refines the phrasing to produce a more polished English text. The second call utilizes the translated English text to prompt Gemini to generate an SD prompt on the user's behalf. The third call simplifies the generated prompt for subsequent stylistic processing. The prompt generated in the second call is then averaged with the stylistically processed prompt from the third call.\n## The pipeline has been enhanced with the latest IPAdapter module, enabling independent control over style and composition. Notably, the IPAdapter's style can be blended with the style template specified in the prompt.","markdown","","one_dark"],"color":"#305091","bgcolor":"#1c3c7d","shape":1},{"id":18,"type":"Eff. Loader SDXL","pos":[1230,1213],"size":[400,402],"flags":{},"order":36,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":null},{"name":"cnet_stack","type":"CONTROL_NET_STACK","link":null},{"name":"positive","type":"STRING","link":68,"widget":{"name":"positive"}}],"outputs":[{"name":"SDXL_TUPLE","type":"SDXL_TUPLE","links":[34],"shape":3,"slot_index":0},{"name":"LATENT","type":"LATENT","links":[21],"shape":3,"slot_index":1},{"name":"VAE","type":"VAE","links":[22],"shape":3,"slot_index":2},{"name":"DEPENDENCIES","type":"DEPENDENCIES","links":null,"shape":3}],"properties":{"Node name for S&R":"Eff. Loader SDXL"},"widgets_values":["XL Lighting\\wildcardxXLLIGHTNING_wildcardxXL.safetensors",-2,"None",-2,6,2,"Baked VAE","CLIP_POSITIVE","","none","comfy",768,1024,1],"color":"#332233","bgcolor":"#553355","shape":1,"locked":true},{"id":64,"type":"LoadImage","pos":[46.24674377424923,1407.929526607659],"size":[315,314.0000305175781],"flags":{},"order":11,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[81],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3}],"title":"Image For Composition Reference","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["30277562d07b15c72728291cc57fbd79.jpg","image"],"locked":true},{"id":14,"type":"TextInput_","pos":[539.1459337499997,259.37789137969975],"size":[279.1251220703125,158.90126037597656],"flags":{},"order":12,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[31],"shape":3,"slot_index":0}],"title":"Your Idea In Any Language","properties":{"Node name for S&R":"TextInput_"},"widgets_values":["大峡谷，夕阳，古城的废墟遗迹，在峭壁中凿刻出的巨型战争之神的雕像"],"locked":true},{"id":63,"type":"IPAdapterStyleComposition","pos":[786.2467437742494,1171.9295266076592],"size":[315,322],"flags":{},"order":24,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":78},{"name":"ipadapter","type":"IPADAPTER","link":79},{"name":"image_style","type":"IMAGE","link":77},{"name":"image_composition","type":"IMAGE","link":82},{"name":"image_negative","type":"IMAGE","link":null},{"name":"attn_mask","type":"MASK","link":null},{"name":"clip_vision","type":"CLIP_VISION","link":null}],"outputs":[{"name":"MODEL","type":"MODEL","links":[80],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"IPAdapterStyleComposition"},"widgets_values":[0.43,0.75,true,"average",0,1,"K+V"],"locked":true},{"id":37,"type":"SDXLPromptStyler","pos":[846.4035258789063,232.84532072448732],"size":[251.42819213867188,212],"flags":{},"order":13,"mode":0,"inputs":[{"name":"text_positive","type":"STRING","link":null,"widget":{"name":"text_positive"}}],"outputs":[{"name":"text_positive","type":"STRING","links":[63],"shape":3,"slot_index":0},{"name":"text_negative","type":"STRING","links":[64],"shape":3,"slot_index":1}],"title":"Style Selector","properties":{"Node name for S&R":"SDXLPromptStyler"},"widgets_values":["","","sai-pixel art",true,true,true],"color":"#322","bgcolor":"#533","locked":true},{"id":41,"type":"FloatSlider","pos":[849.4035258789063,542.8453207244875],"size":[252,130],"flags":{},"order":14,"mode":0,"outputs":[{"name":"weight(0-1)","type":"FLOAT","links":[55],"shape":3,"slot_index":0}],"title":"Style Weight","properties":{"Node name for S&R":"FloatSlider"},"widgets_values":[0.8230000000000001,0,1,0.001],"locked":true},{"id":62,"type":"LoadImage","pos":[43.246743774249225,1026.929526607659],"size":[315,314.0000305175781],"flags":{},"order":15,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[76],"shape":3},{"name":"MASK","type":"MASK","links":null,"shape":3}],"title":"Image For Style Transfer","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["2546e3c0d4f5d8ae20f7e8d13de5fb83.jpg","image"],"locked":true}],"links":[[11,12,0,13,0,"STRING"],[13,13,0,10,1,"STRING"],[21,18,1,19,1,"LATENT"],[22,18,2,19,2,"VAE"],[24,25,0,19,3,"SCRIPT"],[25,26,0,27,0,"STRING"],[27,27,0,28,1,"STRING"],[29,28,0,13,1,"STRING"],[30,19,3,29,0,"IMAGE"],[31,14,0,30,0,"STRING"],[32,28,0,31,0,"STRING"],[33,10,0,32,0,"STRING"],[34,18,0,33,0,"SDXL_TUPLE"],[36,33,1,34,1,"CLIP"],[41,33,4,34,4,"MODEL"],[42,33,5,34,5,"CLIP"],[43,33,6,34,6,"CONDITIONING"],[44,33,7,34,7,"CONDITIONING"],[46,33,2,36,1,"CONDITIONING"],[49,38,0,36,0,"CONDITIONING"],[50,34,0,19,0,"SDXL_TUPLE"],[51,36,0,34,2,"CONDITIONING"],[52,39,0,40,0,"CONDITIONING"],[53,33,3,40,1,"CONDITIONING"],[54,40,0,34,3,"CONDITIONING"],[55,41,0,42,0,"FLOAT"],[56,43,0,44,1,"STRING"],[57,28,0,43,1,"STRING"],[58,46,0,43,0,"STRING"],[60,44,0,48,0,"STRING"],[61,33,1,38,0,"CLIP"],[62,33,1,39,0,"CLIP"],[63,37,0,49,0,"STRING"],[64,37,1,50,0,"STRING"],[65,10,0,51,0,"*"],[66,51,0,52,0,"*"],[67,52,0,53,0,"*"],[68,53,0,18,2,"STRING"],[73,33,0,59,0,"MODEL"],[76,62,0,61,0,"IMAGE"],[77,61,0,63,2,"IMAGE"],[78,57,0,63,0,"MODEL"],[79,57,1,63,1,"IPADAPTER"],[80,63,0,60,0,"MODEL"],[81,64,0,65,0,"IMAGE"],[82,65,0,63,3,"IMAGE"]],"groups":[{"title":"Gemini For Prompt Build","bounding":[1171,32,2190,1747],"color":"#5b22c3","font_size":48,"locked":true},{"title":"Ignite The Embers of Your Creativity","bounding":[29,32,1082,850],"color":"#cc8828","font_size":48,"locked":true},{"title":"IPAdapter Module","bounding":[33,920,1079,812],"color":"#1ea9cc","font_size":48,"locked":true}],"config":{},"extra":{"workspace_info":{"id":"JDrjI4tIjQDwXhDDk222e"}},"version":0.4}